import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as s,c as a,f as t}from"./app-869bcb6f.js";const p={},e=t(`<p>æœ€è¿‘å‚åŠ äº†ä¸€äº›æŠ€æœ¯é¢è¯•ï¼Œå…¶ä¸­ä¸å°‘èŠåˆ°äº†Reactæ¸²æŸ“ä¼˜åŒ–çš„é—®é¢˜ã€‚è¿™ä¸ªè¯é¢˜å¾ˆå€¼å¾—æ±‡æ€»ä¸€ä¸‹ï¼Œä»¥ä¾¿æ›´ç³»ç»Ÿçš„ç†è§£Reactçš„æ¸²æŸ“æœºåˆ¶å’Œä¼˜åŒ–é€”å¾„ã€‚<br> åœ¨Reactåº”ç”¨ä¸­ï¼Œéšç€ç»„ä»¶æ•°é‡å’Œå¤æ‚åº¦çš„å¢åŠ ï¼Œæ¸²æŸ“æ€§èƒ½å¯¼è‡´çš„é—®é¢˜å¯èƒ½ä¼šé€æ¸åœ°å‡¸æ˜¾å‡ºæ¥ã€‚ä¸»è¦çš„ç°è±¡æ˜¯é¡µé¢å‡ºç°å¡é¡¿ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚ä¸‹é¢æˆ‘æ¥ä»‹ç»ä¸€ä¸‹Reactä¸­å¸¸è§çš„æ¸²æŸ“ä¼˜åŒ–æ–¹æ³•ã€‚</p><h2 id="ç»„ä»¶çº§åˆ«çš„ä¼˜åŒ–æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#ç»„ä»¶çº§åˆ«çš„ä¼˜åŒ–æ–¹æ³•" aria-hidden="true">#</a> ç»„ä»¶çº§åˆ«çš„ä¼˜åŒ–æ–¹æ³•</h2><h3 id="usememo" tabindex="-1"><a class="header-anchor" href="#usememo" aria-hidden="true">#</a> useMemo</h3><p><code>useMemo</code>æ˜¯ä¸€ä¸ªReact Hookï¼Œç”¨äºç¼“å­˜è®¡ç®—ç»“æœï¼Œé¿å…åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶é‡å¤æ‰§è¡Œé«˜å¼€é”€çš„è®¡ç®—ã€‚<br> å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè®¡ç®—ç»“æœçš„å‡½æ•°ï¼Œå®ƒæ‰§è¡Œå¤§é‡å¤æ‚çš„è®¡ç®—ï¼š</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useMemo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ExpensiveComponent</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> a<span class="token punctuation">,</span> b <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ä½¿ç”¨useMemoç¼“å­˜è®¡ç®—ç»“æœ</span>
  <span class="token keyword">const</span> expensiveValue <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Calculating...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span> <span class="token comment">// å‡è®¾è¿™æ˜¯ä¸€é¡¹å¤æ‚çš„è®¡ç®—</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Expensive Calculation Result: </span><span class="token punctuation">{</span>expensiveValue<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Count: </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Increment Count</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼ŒuseMemoç¡®ä¿äº†åªæœ‰åœ¨aæˆ–bå‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—expensiveValueï¼Œä»è€Œé¿å…æ¯æ¬¡æ¸²æŸ“æ—¶é‡å¤è¿›è¡Œä¸å¿…è¦çš„è®¡ç®—ã€‚</p><h3 id="usecallback" tabindex="-1"><a class="header-anchor" href="#usecallback" aria-hidden="true">#</a> useCallback</h3><p><code>useCallback</code>å’Œ<code>useMemo</code>ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªReact Hookï¼ŒåŒºåˆ«ä¹‹å¤„æ˜¯å®ƒç”¨äºç¼“å­˜å›è°ƒå‡½æ•°ï¼Œä»¥é¿å…åœ¨ç»„ä»¶é‡æ¸²æŸ“æ—¶åˆ›å»ºæ–°çš„å‡½æ•°å®ä¾‹ã€‚</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">const</span> memoizedCallback <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// è¿™é‡Œçš„ä»£ç ä¸ä¼šå› ä¸ºæ¯æ¬¡ç»„å»ºæ¸²æŸ“è€Œé‡æ–°æ‰§è¡Œ</span>
  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>dependencies<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>useCallbackä¼šè¿”å›ä¸€ä¸ªè®°å¿†åŒ–çš„å›è°ƒå‡½æ•°ï¼Œåªæœ‰åœ¨ä¾èµ–é¡¹å‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼šæ›´æ–°ã€‚</p><h3 id="react-memo" tabindex="-1"><a class="header-anchor" href="#react-memo" aria-hidden="true">#</a> React.memo</h3><p>React.memoæ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œç”¨äºç¼“å­˜ç»„ä»¶çš„æ¸²æŸ“ç»“æœï¼Œä»¥é¿å…é‡å¤æ¸²æŸ“ã€‚</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">const</span> MyComponent <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">memo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ç»„ä»¶å†…å®¹</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>React.memoä¼šå¯¹æ¯”å‰åçš„propsã€‚å¦‚æœpropsæœªå˜åŒ–ï¼Œåˆ™è¿”å›ç¼“å­˜çš„ç»„ä»¶ç»“æœï¼Œä»¥æ­¤æ–¹å¼æ¥é¿å…é‡æ–°æ¸²æŸ“ã€‚</p><h3 id="ç±»ç»„ä»¶çš„shouldcomponentupdate" tabindex="-1"><a class="header-anchor" href="#ç±»ç»„ä»¶çš„shouldcomponentupdate" aria-hidden="true">#</a> ç±»ç»„ä»¶çš„shouldComponentUpdate</h3><p><code>shouldComponentUpdate</code>æ˜¯ç±»ç»„ä»¶ä¸­çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œç”¨äºæ§åˆ¶ç»„ä»¶æ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“ã€‚</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span> nextState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è‡ªå®šä¹‰é€»è¾‘ï¼Œè¿”å›trueæˆ–false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="purecomponent" tabindex="-1"><a class="header-anchor" href="#purecomponent" aria-hidden="true">#</a> PureComponent</h3><p><code>PureComponent</code>æ˜¯Componentçš„ä¸€ä¸ªå­ç±»ï¼Œæä¾›äº†æµ…å±‚æ¯”è¾ƒçš„<code>shouldComponentUpdate</code>å®ç°ã€‚</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span> <span class="token punctuation">{</span>
  <span class="token comment">// ç»„ä»¶å†…å®¹</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="é¡¹ç›®çº§åˆ«çš„ä¼˜åŒ–æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®çº§åˆ«çš„ä¼˜åŒ–æ–¹æ³•" aria-hidden="true">#</a> é¡¹ç›®çº§åˆ«çš„ä¼˜åŒ–æ–¹æ³•</h2><h3 id="ä»£ç åˆ†å‰²" tabindex="-1"><a class="header-anchor" href="#ä»£ç åˆ†å‰²" aria-hidden="true">#</a> ä»£ç åˆ†å‰²</h3><p>åœ¨å¤§å‹Reactåº”ç”¨ä¸­ï¼Œæ‰€æœ‰ä»£ç æ†ç»‘åœ¨ä¸€èµ·ä¼šå¯¼è‡´åˆå§‹åŠ è½½æ—¶é—´è¿‡é•¿ã€‚é€šè¿‡ä»£ç åˆ†å‰²ï¼Œå¯ä»¥æŒ‰éœ€åŠ è½½æŸäº›éƒ¨åˆ†ï¼Œä¼˜åŒ–åŠ è½½æ€§èƒ½ã€‚Reactæä¾›äº†<code>React.lazy</code>å’Œ<code>Suspense</code>ï¼Œä½¿å¾—ä»£ç åˆ†å‰²çš„å®ç°å˜å¾—ç®€å•ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Suspense <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// ä½¿ç”¨ React.lazy åŠ¨æ€å¯¼å…¥ç»„ä»¶</span>
<span class="token keyword">const</span> LazyComponent <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;./LazyComponent&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">My React App</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* ä½¿ç”¨ Suspense åŒ…è£¹æ‡’åŠ è½½ç»„ä»¶ï¼Œæä¾›åŠ è½½çŠ¶æ€ */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Suspense</span></span> <span class="token attr-name">fallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Loading...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LazyComponent</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Suspense</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç è§£æ</p><ul><li>React.lazy: è¿™æ˜¯Reactå†…ç½®çš„ç”¨äºåŠ¨æ€å¯¼å…¥ç»„ä»¶çš„å‡½æ•°ã€‚<code>React.lazy(() =&gt; import(&#39;./LazyComponent&#39;))</code>ä¼šè¿”å›ä¸€ä¸ªå¯ä»¥æ‡’åŠ è½½çš„ç»„ä»¶ã€‚</li><li>Suspense: Reactæä¾›çš„ç»„ä»¶ï¼Œç”¨æ¥åœ¨æ‡’åŠ è½½çš„ç»„ä»¶åŠ è½½å®Œæˆå‰æ˜¾ç¤ºä¸€ä¸ªåå¤‡å†…å®¹ï¼ˆå¦‚åŠ è½½åŠ¨ç”»ï¼‰ã€‚<code>fallback</code>å±æ€§æŒ‡å®šåœ¨åŠ è½½æœŸé—´æ˜¾ç¤ºçš„å†…å®¹ã€‚</li></ul><h3 id="react-compiler-react-19æ–°ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#react-compiler-react-19æ–°ç‰¹æ€§" aria-hidden="true">#</a> React Compiler ï¼ˆReact 19æ–°ç‰¹æ€§ï¼‰</h3><p>React 19 å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ç¼–è¯‘å™¨ï¼Œæ—¨åœ¨ä¼˜åŒ–ç»„ä»¶æ¸²æŸ“çš„æ€§èƒ½ã€‚ç¼–è¯‘å™¨é€šè¿‡åœ¨æ„å»ºæ—¶è¿›è¡Œæ›´å¤šé™æ€ä¼˜åŒ–ï¼Œä½¿å¾—è¿è¡Œæ—¶çš„è®¡ç®—é‡å‡å°‘ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨è¯†åˆ«å’Œä¼˜åŒ–ä¸éœ€è¦é¢‘ç¹æ›´æ–°çš„éƒ¨åˆ†ï¼Œä»è€Œæå‡æ•´ä½“æ¸²æŸ“æ•ˆç‡ã€‚å› ä¸ºReact 19ç›®å‰è¿˜æœªæ­£å¼å‘å¸ƒï¼Œå°±ä¸å¤šåšä»‹ç»äº†ï¼Œå¸Œæœ›å®ƒæ˜¯æœªæ¥å¯æœŸçš„å§ï¼</p><p>å¸Œæœ›æœ¬æ–‡èƒ½å¯¹ä½ æœ‰å¸®åŠ©ğŸ˜„</p>`,29),c=[e];function o(l,i){return s(),a("div",null,c)}const d=n(p,[["render",o],["__file","2024-08-22-react-render-optimization.html.vue"]]);export{d as default};
